<behaviortree name="Zombie" precondition="" repeatuntil="" debug="False"><sequencer name="root" precondition="" repeatuntil="" debug="False"><selector name="Main Behavior" precondition="dead != true" repeatuntil="" debug="False"><sequencer name="Melee" precondition="meleeTarget != null" repeatuntil="" debug="False"><parallel name="Animate" precondition="" repeatuntil="" debug="False" fail="all" succeed="all" tiebreaker="succeed"><animate name="Melee Animation" precondition="" repeatuntil="" debug="False" animation="MeleeAttack" waitforsec="1.067" layer="1" wrapmode="clamp" fadein="0" fadeout="0" /><move name="Look At Target" precondition="" repeatuntil="" debug="False" looktarget="meleeTarget" lookspeed="-1" animation="" animationlayer="0" animationwrapmode="default" animationbasespeed="1" /></parallel><action name="Melee Attack" precondition="" repeatuntil="" debug="False" classname="ZombieMelee" /><detect name="Player In Melee Range" precondition="" repeatuntil="" debug="False" sensor="TouchSensor" aspect="player" variable="meleeTarget" /></sequencer><sequencer name="Detect And Approach" precondition="" repeatuntil="" debug="False"><detect name="Player In Sight" precondition="" repeatuntil="" debug="False" sensor="SightSensor" aspect="player" variable="playerTarget" /><parallel name="Approach" precondition="playerTarget != null" repeatuntil="" debug="False" fail="any" succeed="any" tiebreaker="succeed"><move name="Move To Player" precondition="" repeatuntil="" debug="False" movetarget="playerTarget" movespeed="-1" animation="WoundedWalk" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /><detect name="Player Still In Sight" precondition="" repeatuntil="failure" debug="False" sensor="SightSensor" aspect="player" variable="playerTarget" /><detect name="Player In Melee Range" precondition="" repeatuntil="success" debug="False" sensor="TouchSensor" aspect="player" variable="meleeTarget" /></parallel></sequencer><sequencer name="React To Hit" precondition="lastHitPos != null" repeatuntil="" debug="False"><move name="Look Toward Last Hit" precondition="" repeatuntil="" debug="False" looktarget="lastHitPos" lookspeed="-1" animation="" animationlayer="0" animationwrapmode="default" animationbasespeed="1" /><assign name="Forget Last Hit" precondition="" repeatuntil="" debug="False" expression="lastHitPos = null" /></sequencer><sequencer name="Seek Last Target" precondition="lastTargetPos != null" repeatuntil="" debug="False"><parallel name="Move" precondition="" repeatuntil="" debug="False" fail="all" succeed="any" tiebreaker="fail"><move name="Move To Last Target Pos" precondition="" repeatuntil="" debug="False" movetarget="lastTargetPos" movespeed="-1" animation="WoundedWalk" animationlayer="0" animationwrapmode="loop" animationbasespeed="1" /><detect name="Player In Sight" precondition="" repeatuntil="success" debug="False" sensor="SightSensor" aspect="player" variable="playerTarget" /></parallel><assign name="Forget Last Target Pos" precondition="" repeatuntil="" debug="False" expression="lastTargetPos = null" /></sequencer></selector></sequencer></behaviortree>